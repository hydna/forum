/*!
 * Add to Homescreen v2.0 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
var addToHome=(function(n){var i=n.navigator,j="platform" in i&&(/iphone|ipod|ipad/gi).test(i.platform),v,o,y,B,e,x=0,u=0,f,b,C,a,l,k,m,d={autostart:true,returningVisitor:false,animationIn:"drop",animationOut:"fade",startDelay:2000,lifespan:15000,bottomOffset:14,expire:0,message:"",touchIcon:false,arrow:true,hookOnLoad:true,iterations:100},q={ca_es:"Per instal·lar aquesta aplicació al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",da_dk:"Tilføj denne side til din %device: tryk på %icon og derefter <strong>Tilføj til hjemmeskærm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"Εγκαταστήσετε αυτήν την Εφαρμογή στήν συσκευή σας %device: %icon μετά πατάτε <strong>Προσθήκη σε Αφετηρία</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>Añadir a pantalla de inicio</strong>.",fi_fi:"Asenna tämä web-sovellus laitteeseesi %device: paina %icon ja sen jälkeen valitse <strong>Lisää Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter à l'écran d'accueil</strong>.",he_il:'<span dir="rtl">התקן אפליקציה זו על ה-%device שלך: הקש %icon ואז <strong>הוסף למסך הבית</strong>.</span>',hu_hu:"Telepítse ezt a web-alkalmazást az Ön %device-jára: nyomjon a %icon-ra majd a <strong>Főképernyőhöz adás</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"このウェブアプリをあなたの%deviceにインストールするには%iconをタップして<strong>ホーム画面に追加</strong>を選んでください。",ko_kr:'%device에 웹앱을 설치하려면 %icon을 터치 후 "홈화면에 추가"를 선택하세요',nb_no:"Installer denne appen på din %device: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.",pl_pl:"Aby zainstalować tę aplikacje na %device: naciśnij %icon a następnie <strong>Dodaj jako ikonę</strong>.",pt_br:"Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar à Tela Inicio</strong>.",pt_pt:"Para instalar esta aplicação no seu %device, prima o %icon e depois o <strong>Adicionar ao ecrã principal</strong>.",ru_ru:"Установите это веб-приложение на ваш %device: нажмите %icon, затем <strong>Добавить в «Домой»</strong>.",sv_se:"Lägg till denna webbapplikation på din %device: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",th_th:"ติดตั้งเว็บแอพฯ นี้บน %device ของคุณ: แตะ %icon และ <strong>เพิ่มที่หน้าจอโฮม</strong>",tr_tr:"%device için bu uygulamayı kurduktan sonra %icon simgesine dokunarak <strong>Ev Ekranına Ekle</strong>yin.",zh_cn:"您可以将此应用程式安装到您的 %device 上。请按 %icon 然后点选<strong>添加至主屏幕</strong>。",zh_tw:"您可以將此應用程式安裝到您的 %device 上。請按 %icon 然後點選<strong>加入主畫面螢幕</strong>。"};function t(){if(!j){return}var w=Date.now(),D;if(n.addToHomeConfig){for(D in n.addToHomeConfig){d[D]=n.addToHomeConfig[D]}}if(!d.autostart){d.hookOnLoad=false}v=(/ipad/gi).test(i.platform);o=n.devicePixelRatio&&n.devicePixelRatio>1;y=i.appVersion.match(/Safari/gi);B=i.standalone;e=i.appVersion.match(/OS (\d+_\d+)/i);e=e[1]?+e[1].replace("_","."):0;f=+n.localStorage.getItem("addToHome")||w;b=n.sessionStorage.getItem("addToHomeSession");C=!d.returningVisitor||(f&&f+28*24*60*60*1000>w);f=(!d.expire||f<=w);if(d.hookOnLoad){n.addEventListener("load",s,false)}else{if(!d.hookOnLoad&&d.autostart){s()}}}function s(){n.removeEventListener("load",s,false);if(!l&&(!y||!f||b||B||!C)){return}if(d.expire||d.returningVisitor){n.localStorage.setItem("addToHome",Date.now()+d.expire*60000)}var H=d.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],I,F="",E,w=i.platform.split(" ")[0],J=i.language.replace("-","_"),G,D;a=document.createElement("div");a.id="addToHomeScreen";a.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(e<5?"absolute":"fixed");if(d.message in q){J=d.message;d.message=""}if(d.message===""){d.message=J in q?q[J]:q.en_us}if(H.length){for(G=0,D=H.length;G<D;G++){I=H[G].getAttribute("sizes");if(I){if(o&&I=="114x114"){F=H[G].href;break}}else{F=H[G].href}}F='<span style="background-image:url('+F+')" class="addToHomeTouchIcon"></span>'}a.className=(v?"addToHomeIpad":"addToHomeIphone")+(F?" addToHomeWide":"");a.innerHTML=F+d.message.replace("%device",w).replace("%icon",e>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(d.arrow?'<span class="addToHomeArrow"></span>':"")+'<span class="addToHomeClose">\u00D7</span>';document.body.appendChild(a);E=a.querySelector(".addToHomeClose");if(E){E.addEventListener("click",g,false)}setTimeout(A,d.startDelay)}function A(){var D,w=160;if(v){if(e<5){u=n.scrollY;x=n.scrollX;w=208}a.style.top=u+d.bottomOffset+"px";a.style.left=x+w-Math.round(a.offsetWidth/2)+"px";switch(d.animationIn){case"drop":D="0.6s";a.style.webkitTransform="translate3d(0,"+-(n.scrollY+d.bottomOffset+a.offsetHeight)+"px,0)";break;case"bubble":D="0.6s";a.style.opacity="0";a.style.webkitTransform="translate3d(0,"+(u+50)+"px,0)";break;default:D="1s";a.style.opacity="0"}}else{u=n.innerHeight+n.scrollY;if(e<5){x=Math.round((n.innerWidth-a.offsetWidth)/2)+n.scrollX;a.style.left=x+"px";a.style.top=u-a.offsetHeight-d.bottomOffset+"px"}else{a.style.left="50%";a.style.marginLeft=-Math.round(a.offsetWidth/2)+"px";a.style.bottom=d.bottomOffset+"px"}switch(d.animationIn){case"drop":D="1s";a.style.webkitTransform="translate3d(0,"+-(u+d.bottomOffset)+"px,0)";break;case"bubble":D="0.6s";a.style.webkitTransform="translate3d(0,"+(a.offsetHeight+d.bottomOffset+50)+"px,0)";break;default:D="1s";a.style.opacity="0"}}a.offsetHeight;a.style.webkitTransitionDuration=D;a.style.opacity="1";a.style.webkitTransform="translate3d(0,0,0)";a.addEventListener("webkitTransitionEnd",h,false);m=setTimeout(p,d.lifespan)}function r(w){if(!j||a){return}l=w;s()}function p(){clearInterval(k);clearTimeout(m);m=null;var F=0,G=0,D="1",E="0",w=a.querySelector(".addToHomeClose");if(w){w.removeEventListener("click",p,false)}if(e<5){F=v?n.scrollY-u:n.scrollY+n.innerHeight-u;G=v?n.scrollX-x:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-x}a.style.webkitTransitionProperty="-webkit-transform,opacity";switch(d.animationOut){case"drop":if(v){E="0.4s";D="0";F=F+50}else{E="0.6s";F=F+a.offsetHeight+d.bottomOffset+50}break;case"bubble":if(v){E="0.8s";F=F-a.offsetHeight-d.bottomOffset-50}else{E="0.4s";D="0";F=F-50}break;default:E="0.8s";D="0"}a.addEventListener("webkitTransitionEnd",h,false);a.style.opacity=D;a.style.webkitTransitionDuration=E;a.style.webkitTransform="translate3d("+G+"px,"+F+"px,0)"}function g(){n.sessionStorage.setItem("addToHomeSession","1");b=true;p()}function h(){a.removeEventListener("webkitTransitionEnd",h,false);a.style.webkitTransitionProperty="-webkit-transform";a.style.webkitTransitionDuration="0.2s";if(!m){a.parentNode.removeChild(a);a=null;return}if(e<5&&m){k=setInterval(c,d.iterations)}}function c(){var w=new WebKitCSSMatrix(n.getComputedStyle(a,null).webkitTransform),D=v?n.scrollY-u:n.scrollY+n.innerHeight-u,E=v?n.scrollX-x:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-x;if(D==w.m42&&E==w.m41){return}a.style.webkitTransform="translate3d("+E+"px,"+D+"px,0)"}function z(){n.localStorage.removeItem("addToHome");n.sessionStorage.removeItem("addToHomeSession")}t();return{show:r,close:p,reset:z}})(this);